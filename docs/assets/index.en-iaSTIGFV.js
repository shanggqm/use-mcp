import{j as i}from"./index-CpIvmGkQ.js";const l={title:"The Complete Guide to MCP Apps: From Protocol Specification to Practical Development",description:"A comprehensive deep dive into MCP App architecture, protocol specification, SDK APIs, and best practices for building interactive UI for AI Agents",date:"2026-01-28",tags:["MCP","AI Agent","UI","SDK","Protocol"],lang:"en",author:"use-mcp.dev"};function h(e){const s={a:"a",code:"code",figure:"figure",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...e.components};return i.jsxs(i.Fragment,{children:[i.jsx(s.h2,{children:"TL;DR"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"What is MCP App"}),": Interactive UI components running in sandboxed iframes within MCP hosts, enabling AI Agents to return visual interfaces instead of plain text"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Core Formula"}),": MCP App = Tool + UI Resource, linked via ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"_meta.ui.resourceUri"})})})})]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Multi-layer Security"}),": iframe sandbox + CSP content security policy + permission declarations + user consent"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Broad Support"}),": Supported by Claude, ChatGPT, VS Code, Goose and more - first cross-platform UI experience"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Ecosystem Impact"}),': Breaking the "text-only response" paradigm, elevating AI Agent ecosystem from tool calling to full application platform']}),`
`]}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Introduction"}),`
`,i.jsxs(s.p,{children:["On January 26, 2026, the MCP team officially released MCP Apps 1.0 stable version. This is the ",i.jsx(s.strong,{children:"first official MCP extension"}),', marking the transition of the AI Agent ecosystem from "tool calling" to "application platform" era.']}),`
`,i.jsxs(s.p,{children:["Imagine this scenario: You ask an AI to analyze sales data. Traditional MCP tools would return a bunch of JSON data or text tables that you'd need to copy to Excel or other tools for visualization. With MCP Apps, the AI can render an ",i.jsx(s.strong,{children:"interactive dashboard"})," directly in the conversationâ€”you can hover for details, click to filter data, drag to adjust charts, all within the conversation window."]}),`
`,i.jsx(s.p,{children:"This isn't science fiction. This is what MCP Apps are doing right now."}),`
`,i.jsx(s.p,{children:"This article will take you through every aspect of MCP Apps: from background and motivation to architecture design, from protocol specification to SDK APIs, from security model to practical development. One article to help you thoroughly understand MCP Apps."}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 1: Background and Motivation"}),`
`,i.jsx(s.h3,{children:"1.1 Limitations of MCP Protocol"}),`
`,i.jsx(s.p,{children:"Model Context Protocol (MCP) was originally designed to solve the connection problem between AI models and external data/tools. MCP defines three core primitives:"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Tools"}),": Enable models to perform actions"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Resources"}),": Enable models to read data"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Prompts"}),": Enable models to use preset prompt templates"]}),`
`]}),`
`,i.jsxs(s.p,{children:["However, MCP originally only supported ",i.jsx(s.strong,{children:"text and structured data"})," exchange. When tools need visual presentation or complex user input, hosts must build their own rendering logic. This led to an awkward situation:"]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:'User: "Help me generate a pie chart of sales data"'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:`Agent: "Sure, here's the data: {sales: [{region: 'East', value: 3500}, ...]}`})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:'        You can copy it to Excel or ECharts to generate the chart"'})})]})})}),`
`,i.jsx(s.p,{children:"Developers were forced to create various ad-hoc solutions, leading to ecosystem fragmentationâ€”each host had its own UI extension method, incompatible with others."}),`
`,i.jsx(s.h3,{children:"1.2 Evolution of Community Needs"}),`
`,i.jsx(s.p,{children:`The community's demand for "UI over MCP" was evident early on:`}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"Working Group Issue #35"}),': In mid-2025, the community proposed the "UI Component Integration in MCP Responses" RFC in the MCP working group, discussing how to integrate UI components in MCP responses.']}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"MCP-UI Community Project"}),": Created by Ido Salomon and Liad Yosef, the ",i.jsx(s.a,{href:"https://mcpui.dev/",children:"MCP-UI"})," project accumulated 4.2k+ stars before the official specification, becoming the de facto pioneer."]}),`
`,i.jsx(s.p,{children:"Key community demands included:"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsx(s.li,{children:"Interactive forms, buttons, multi-step workflows"}),`
`,i.jsx(s.li,{children:"Real-time data visualization (charts, dashboards)"}),`
`,i.jsx(s.li,{children:"Configuration wizards (multiple options, conditional dependencies)"}),`
`,i.jsx(s.li,{children:"Rich media viewers (PDF, 3D models, video)"}),`
`]}),`
`,i.jsx(s.h3,{children:"1.3 Anthropic and OpenAI Collaboration"}),`
`,i.jsx(s.p,{children:"In November 2025, the MCP team released the first public preview of MCP Apps, integrating two important external contributions:"}),`
`,i.jsxs(s.ol,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"MCP-UI Community Project"}),": Provided the foundation patterns for UI resources"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"OpenAI Apps SDK"}),": ChatGPT's Widget mechanism served as reference for protocol design"]}),`
`]}),`
`,i.jsxs(s.p,{children:["After months of iteration, MCP Apps 1.0 was officially released on January 26, 2026. This is a rare case of ",i.jsx(s.strong,{children:"cross-company collaboration"}),"â€”Anthropic, OpenAI, Block, Microsoft and others jointly participated in specification development and implementation."]}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 2: Core Concepts and Architecture"}),`
`,i.jsx(s.h3,{children:"2.1 What is MCP App"}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"Official Definition"}),": MCP App is an interactive UI component running in a sandboxed iframe within an MCP host."]}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"Core Formula"}),":"]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"MCP App = Tool + UI Resource"})})})})}),`
`,i.jsx(s.p,{children:"An MCP App consists of two parts:"}),`
`,i.jsxs(s.ol,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Tool"}),": Declares the ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"_meta.ui.resourceUri"})})})})," field pointing to a UI resource"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"UI Resource"}),": Contains the interactive interface with HTML/CSS/JS"]}),`
`]}),`
`,i.jsx(s.p,{children:"Key differences from traditional web applications:"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Feature"}),i.jsx(s.th,{children:"Traditional Web App"}),i.jsx(s.th,{children:"MCP App"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Context"})}),i.jsx(s.td,{children:"Separate page, leaving conversation"}),i.jsx(s.td,{children:"Embedded in conversation flow"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Data Flow"})}),i.jsx(s.td,{children:"Requires own API, authentication"}),i.jsx(s.td,{children:"Can call MCP server tools directly"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Integration"})}),i.jsx(s.td,{children:"Must implement integrations separately"}),i.jsx(s.td,{children:"Can delegate to host's connected capabilities"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Security Isolation"})}),i.jsx(s.td,{children:"Full trust or full isolation"}),i.jsx(s.td,{children:"iframe sandbox + fine-grained CSP"})]})]})]}),`
`,i.jsx(s.h3,{children:"2.2 Three-Layer Architecture"}),`
`,i.jsx(s.p,{children:"MCP App architecture is divided into three layers:"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"mermaid","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"mermaid","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"flowchart TB"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    subgraph Server["ðŸ–¥ï¸ MCP Server"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        S1["registerAppTool(): Register tools with UI"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        S2["registerAppResource(): Register UI resources"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        S3["Handle tool calls, return structured data"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    subgraph Host["ðŸŒ Host (AppBridge)"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        H1["Connect to MCP servers"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        H2["Manage iframe sandbox"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        H3["Forward requests/responses"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        H4["Send tool input/results to View"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    subgraph View["ðŸ“± View (App class)"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        V1["Runs inside iframe"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        V2["Receives tool inputs and results"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        V3["Can call server tools"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        V4["Can send messages to conversation"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    Server -->|"MCP Protocol (JSON-RPC)"| Host'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    Host -->|"postMessage (JSON-RPC)"| View'})})]})})}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"Three-layer Responsibilities"}),":"]}),`
`,i.jsxs(s.ol,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Server Layer"}),": MCP server, responsible for registering tools, handling business logic, returning data"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Host Layer"}),": Host application (e.g., Claude Desktop), responsible for connecting to server, managing sandbox, forwarding messages"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"View Layer"}),": UI component, runs in iframe, responsible for rendering interface, handling user interactions"]}),`
`]}),`
`,i.jsx(s.h3,{children:"2.3 Lifecycle"}),`
`,i.jsx(s.p,{children:"The complete lifecycle of an MCP App:"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"mermaid","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"mermaid","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"flowchart LR"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    subgraph D["1ï¸âƒ£ Discovery"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        D1["Host fetches tool list"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        D2["Identifies tools with _meta.ui.resourceUri"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        D1 --> D2"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    subgraph I["2ï¸âƒ£ Initialize"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        I1["Host renders iframe"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        I2["View sends ui/initialize"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        I3["Host returns context & capabilities"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        I1 --> I2 --> I3"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    subgraph DD["3ï¸âƒ£ Data Delivery"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        DD1["Host sends tool-input"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        DD2["Host sends tool-result"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        DD1 --> DD2"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    subgraph Int["4ï¸âƒ£ Interactive"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        Int1["User interacts with View"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        Int2["View calls server tools"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        Int3["View updates model context"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    subgraph T["5ï¸âƒ£ Teardown"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        T1["Host sends teardown"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'        T2["View cleans up resources"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        T1 --> T2"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    D --> I --> DD --> Int --> T"})})]})})}),`
`,i.jsx(s.h3,{children:"2.4 URI Scheme and MIME Type"}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"UI Resource URI"}),":"]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui://server-name/resource-path.html"})})})})}),`
`,i.jsxs(s.p,{children:[i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui://"})})})})," is the dedicated URI scheme for MCP Apps, telling the host this is a UI resource that needs to be rendered in an iframe."]}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"MIME Type"}),":"]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"text/html;profile=mcp-app"})})})})}),`
`,i.jsxs(s.p,{children:["The ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"profile=mcp-app"})})})})," parameter conveys additional semantic constraintsâ€”this is not an ordinary HTML page, but an interactive component conforming to the MCP App protocol."]}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 3: Protocol Specification Details"}),`
`,i.jsx(s.h3,{children:"3.1 Protocol Versions"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Version"}),i.jsx(s.th,{children:"Status"}),i.jsx(s.th,{children:"Link"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"2026-01-26"})}),i.jsx(s.td,{children:"Stable"}),i.jsx(s.td,{children:i.jsx(s.a,{href:"https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx",children:"specification/2026-01-26/apps.mdx"})})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"draft"}),i.jsx(s.td,{children:"Development"}),i.jsx(s.td,{children:i.jsx(s.a,{href:"https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/draft/apps.mdx",children:"specification/draft/apps.mdx"})})]})]})]}),`
`,i.jsx(s.h3,{children:"3.2 Tool Metadata"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"interface"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiToolMeta"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  ui"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"    resourceUri"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// URI pointing to UI resource"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"    visibility"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'model'"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'app'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")[]; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Visibility scope"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  };"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"visibility field explained"}),":"]}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:'visibility: ["model"]'})})})})," â€” Only LLM can call (default)"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:'visibility: ["app"]'})})})})," â€” Only View can call, invisible to LLM"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:'visibility: ["model", "app"]'})})})})," â€” Both can call"]}),`
`]}),`
`,i.jsx(s.p,{children:'This design allows you to create "internal tools"â€”helper tools that only the UI can call, hidden from the LLM.'}),`
`,i.jsx(s.h3,{children:"3.3 Resource Metadata"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"interface"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiResourceMeta"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  ui"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"    csp"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiResourceCsp"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Content Security Policy"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"    permissions"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiResourcePermissions"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Device permissions"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"    domain"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Dedicated sandbox origin"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"    prefersBorder"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" boolean"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Whether to show border"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  };"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsx(s.h3,{children:"3.4 Content Security Policy (CSP)"}),`
`,i.jsx(s.p,{children:"CSP is a core component of the MCP App security model:"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"interface"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiResourceCsp"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  connectDomains"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"[]; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Domains allowed for fetch/XHR/WebSocket"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  resourceDomains"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"[]; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Domains allowed for static resources (scripts, styles, images)"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  frameDomains"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"[]; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Domains allowed for nested iframes"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  baseUriDomains"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"[]; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// base-uri directive"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"Default Behavior"}),": Restrictive by Default"]}),`
`,i.jsx(s.p,{children:"Without declaring any CSP domains, the App cannot:"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsx(s.li,{children:"Make any external network requests"}),`
`,i.jsx(s.li,{children:"Load any external scripts or styles"}),`
`,i.jsx(s.li,{children:"Embed any external iframes"}),`
`]}),`
`,i.jsxs(s.p,{children:["External domains must be ",i.jsx(s.strong,{children:"explicitly declared"}),"."]}),`
`,i.jsx(s.h3,{children:"3.5 Device Permissions"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"interface"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiResourcePermissions"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  camera"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {}; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Camera"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  microphone"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {}; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Microphone"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  geolocation"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {}; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Geolocation"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  clipboardWrite"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {}; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Clipboard write"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsxs(s.p,{children:["These permissions map to the iframe's ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"allow"})})})})," attribute, which the host uses to construct the sandbox."]}),`
`,i.jsx(s.h3,{children:"3.6 Host Context"}),`
`,i.jsx(s.p,{children:"The host sends context information to the View during initialization:"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"interface"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  theme"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'light'"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'dark'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  locale"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  timezone"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  displayMode"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'inline'"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'fullscreen'"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'pip'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  safeAreaInsets"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"top"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" number"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"right"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" number"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"bottom"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" number"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"left"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" number"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" };"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  containerSize"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"width"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" number"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"height"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" number"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" };"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  platform"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'web'"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'desktop'"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'mobile'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  capabilities"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiHostCapabilities"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  styles"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiHostStyles"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// 30+ CSS variables"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsx(s.h3,{children:"3.7 Style Variable System"}),`
`,i.jsx(s.p,{children:"MCP Apps define a complete CSS variable system for theme adaptation:"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"css","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"css","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"/* Background colors */"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-background-primary"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-background-secondary"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-background-tertiary"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"/* Text colors */"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-text-primary"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-text-secondary"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-text-tertiary"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-text-quaternary"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"/* Accent colors */"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-accent-primary"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-accent-secondary"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"/* Border colors */"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-border-primary"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-border-secondary"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--color-border-tertiary"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"/* Fonts */"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--font-sans"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--font-mono"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"/* Font weights */"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--font-weight-normal"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--font-weight-medium"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--font-weight-semibold"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"--font-weight-bold"})})]})})}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 4: SDK and API"}),`
`,i.jsx(s.h3,{children:"4.1 NPM Package Structure"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Main SDK - View side"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { App, PostMessageTransport } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" '@modelcontextprotocol/ext-apps'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// React integration"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { useApp, useHostStyleVariables, useAutoResize } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" '@modelcontextprotocol/ext-apps/react'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Host side"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  AppBridge,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  getToolUiResourceUri,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  buildAllowAttribute,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"} "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" '@modelcontextprotocol/ext-apps/app-bridge'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Server helpers"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  registerAppTool,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  registerAppResource,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  RESOURCE_MIME_TYPE,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"} "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" '@modelcontextprotocol/ext-apps/server'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]})]})})}),`
`,i.jsx(s.h3,{children:"4.2 App Class API (View Side)"}),`
`,i.jsxs(s.p,{children:["The ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"App"})})})})," class is the core of the View side, providing complete communication capabilities with the host:"]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"class"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" App"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" extends"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" Protocol"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Connection and lifecycle"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  connect"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"transport"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Transport"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  getHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"()"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" undefined"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  close"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"()"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Interact with server"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  callServerTool"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"request"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" CallToolRequest"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"CallToolResult"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  readServerResource"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"request"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" ReadResourceRequest"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"ReadResourceResult"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Interact with host"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  sendMessage"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"message"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Message"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<{ "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"isError"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" boolean"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" }>;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  updateModelContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"context"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiUpdateModelContextRequest"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  openLink"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"request"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiOpenLinkRequest"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<{ "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"isError"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" boolean"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" }>;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  requestDisplayMode"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"request"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiRequestDisplayModeRequest"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  sendLog"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"log"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"level"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"; "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"data"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" any"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" })"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Lifecycle handlers"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  ontoolinput"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"input"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiToolInputNotification"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:") "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  ontoolresult"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"result"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiToolResultNotification"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:") "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  ontoolcancelled"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"params"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"reason"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" }) "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  onhostcontextchanged"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"context"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:") "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  onteardown"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" () "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"any"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsx(s.h3,{children:"4.3 AppBridge Class API (Host Side)"}),`
`,i.jsxs(s.p,{children:[i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"AppBridge"})})})})," is the host-side bridge class managing communication with the App in the iframe:"]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"class"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" AppBridge"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" extends"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" Protocol"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  connect"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"transport"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Transport"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Send tool data to View"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  sendToolInput"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"toolInput"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiToolInputNotification"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  sendToolInputPartial"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"toolInputPartial"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiToolInputPartialNotification"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  sendToolResult"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"toolResult"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiToolResultNotification"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  sendToolCancelled"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"toolCancelled"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiToolCancelledNotification"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Host context management"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  setHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"context"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  updateHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"context"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Partial"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"McpUiHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">)"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  teardownResource"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"()"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Promise"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Helper functions"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" getToolUiResourceUri"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"tool"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" Partial"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"Tool"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">)"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" undefined"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" buildAllowAttribute"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"permissions"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiResourcePermissions"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" undefined"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]})]})})}),`
`,i.jsx(s.h3,{children:"4.4 Server Helper Functions"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" registerAppTool"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  server"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpServer"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  name"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  config"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiAppToolConfig"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  callback"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" ToolCallback"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" RegisteredTool"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" registerAppResource"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  server"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpServer"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  name"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  uri"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  meta"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" ResourceMetadata"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  callback"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" ReadResourceCallback"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" RegisteredResource"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]})]})})}),`
`,i.jsx(s.h3,{children:"4.5 React Hooks"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Core Hook - manage App connection and state"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" useApp"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"options"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" UseAppOptions"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  app"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" App"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" null"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  toolInput"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiToolInputNotification"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" null"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  toolResult"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiToolResultNotification"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" null"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"  hostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" undefined"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"};"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Style sync - inject host CSS variables into document"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" useHostStyleVariables"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"app"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" App"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" null"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"initialContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Theme sync - set data-theme attribute"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" useDocumentTheme"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"app"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" App"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" null"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"initialContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiHostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Auto resize - notify host of View size changes"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" useAutoResize"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"app"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" App"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" |"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" null"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"autoResize"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" boolean"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" void"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]})]})})}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 5: Communication Protocol Details"}),`
`,i.jsx(s.h3,{children:"5.1 Transport Layer"}),`
`,i.jsxs(s.p,{children:["MCP Apps use ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"PostMessageTransport"})})})}),", implementing JSON-RPC 2.0 protocol based on ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"window.postMessage"})})})}),"."]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" transport"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" new"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" PostMessageTransport"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"({"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  targetOrigin: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'*'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// or specify specific host origin"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"});"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"await"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"connect"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(transport);"})]})]})})}),`
`,i.jsx(s.h3,{children:"5.2 Request Types"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Method"}),i.jsx(s.th,{children:"Direction"}),i.jsx(s.th,{children:"Purpose"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/initialize"})})})})}),i.jsx(s.td,{children:"View â†’ Host"}),i.jsx(s.td,{children:"Initialization handshake"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/message"})})})})}),i.jsx(s.td,{children:"View â†’ Host"}),i.jsx(s.td,{children:"Send message to conversation"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/update-model-context"})})})})}),i.jsx(s.td,{children:"View â†’ Host"}),i.jsx(s.td,{children:"Update model context"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/open-link"})})})})}),i.jsx(s.td,{children:"View â†’ Host"}),i.jsx(s.td,{children:"Open external link"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/request-display-mode"})})})})}),i.jsx(s.td,{children:"View â†’ Host"}),i.jsx(s.td,{children:"Request display mode"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/resource-teardown"})})})})}),i.jsx(s.td,{children:"Host â†’ View"}),i.jsx(s.td,{children:"Resource cleanup"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"tools/call"})})})})}),i.jsx(s.td,{children:"View â†’ Host"}),i.jsx(s.td,{children:"Call server tool"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"tools/list"})})})})}),i.jsx(s.td,{children:"View â†’ Host"}),i.jsx(s.td,{children:"List available tools"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"resources/read"})})})})}),i.jsx(s.td,{children:"View â†’ Host"}),i.jsx(s.td,{children:"Read resource"})]})]})]}),`
`,i.jsx(s.h3,{children:"5.3 Notification Types"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Method"}),i.jsx(s.th,{children:"Direction"}),i.jsx(s.th,{children:"Purpose"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/notifications/initialized"})})})})}),i.jsx(s.td,{children:"View â†’ Host"}),i.jsx(s.td,{children:"Initialization complete"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/notifications/size-changed"})})})})}),i.jsx(s.td,{children:"View â†’ Host"}),i.jsx(s.td,{children:"Size changed"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/notifications/tool-input"})})})})}),i.jsx(s.td,{children:"Host â†’ View"}),i.jsx(s.td,{children:"Tool input data"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/notifications/tool-input/partial"})})})})}),i.jsx(s.td,{children:"Host â†’ View"}),i.jsx(s.td,{children:"Streaming input (partial data)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/notifications/tool-result"})})})})}),i.jsx(s.td,{children:"Host â†’ View"}),i.jsx(s.td,{children:"Tool result"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/notifications/tool-cancelled"})})})})}),i.jsx(s.td,{children:"Host â†’ View"}),i.jsx(s.td,{children:"Tool cancelled"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"ui/notifications/host-context-changed"})})})})}),i.jsx(s.td,{children:"Host â†’ View"}),i.jsx(s.td,{children:"Host context changed"})]})]})]}),`
`,i.jsx(s.h3,{children:"5.4 Complete Communication Sequence Diagram"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"mermaid","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"mermaid","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"sequenceDiagram"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    participant V as View (iframe)"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    participant H as Host (AppBridge)"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    participant S as MCP Server"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    rect rgb(40, 35, 30)"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        Note over V,H: Initialization Phase"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        H->>V: render iframe"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        V->>H: ui/initialize"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        H-->>V: {context, capabilities}"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        V->>H: ui/notifications/initialized"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    rect rgb(35, 40, 35)"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        Note over V,S: Data Delivery Phase"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        S->>H: tool call"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        H->>V: tool-input notification"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        S->>H: tool result"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        H->>V: tool-result notification"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    rect rgb(35, 35, 40)"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        Note over V,S: Interactive Phase"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        V->>H: tools/call"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        H->>S: tools/call"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        S-->>H: result"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        H-->>V: result"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    rect rgb(40, 30, 30)"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        Note over V,H: Teardown Phase"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        H->>V: ui/resource-teardown"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        V-->>H: acknowledgment"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    end"})})]})})}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 6: Security Model"}),`
`,i.jsx(s.h3,{children:"6.1 Multi-Layer Protection"}),`
`,i.jsxs(s.p,{children:["MCP Apps employ a ",i.jsx(s.strong,{children:"defense-in-depth"})," strategy with multiple security layers:"]}),`
`,i.jsxs(s.ol,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"iframe Sandbox"}),": All UI content runs in sandboxed iframes"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Pre-declared Templates"}),": Hosts can review HTML content before execution"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Auditable Messages"}),": All UI-Host communication is JSON-RPC based, can be logged and audited"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"User Consent"}),": View-initiated tool calls can require user confirmation"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"CSP Control"}),": Fine-grained external domain access control"]}),`
`]}),`
`,i.jsx(s.h3,{children:"6.2 iframe Sandbox Attributes"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" buildAllowAttribute"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"permissions"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" McpUiResourcePermissions"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" string"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" allows"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ["})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"    'allow-scripts'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Allow script execution"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"    'allow-forms'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Allow form submission"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"    'allow-same-origin'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Allow same-origin access (required for postMessage)"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  ];"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Dynamically add based on declared permissions"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  if"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" (permissions?.camera) allows."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"push"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'camera'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  if"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" (permissions?.microphone) allows."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"push"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'microphone'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  if"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" (permissions?.geolocation) allows."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"push"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'geolocation'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  if"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" (permissions?.clipboardWrite) allows."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"push"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'clipboard-write'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  return"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" allows."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"join"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'; '"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"Note"}),": ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"allow-same-origin"})})})})," is necessary for postMessage communication but does not grant the App access to the parent window's DOM."]}),`
`,i.jsx(s.h3,{children:"6.3 Double iframe Architecture (Recommended)"}),`
`,i.jsxs(s.p,{children:["For enhanced security, the specification recommends a ",i.jsx(s.strong,{children:"double iframe architecture"}),":"]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"mermaid","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"mermaid","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"flowchart TB"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    HW["ðŸªŸ Host Window"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    SI["ðŸ›¡ï¸ Sandbox iframe<br/>(validates origin)"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:'    RI["ðŸ“± Resource iframe<br/>(runs App)"]'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    HW --> SI"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    SI --> RI"})})]})})}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Outer iframe"}),": Acts as security proxy, validates inner message origins"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Inner iframe"}),": Actually runs the App"]}),`
`]}),`
`,i.jsx(s.p,{children:"This architecture prevents malicious Apps from spoofing message origins."}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 7: Display Modes"}),`
`,i.jsx(s.h3,{children:"7.1 Three Modes"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Mode"}),i.jsx(s.th,{children:"Description"}),i.jsx(s.th,{children:"Use Case"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"inline"})})})})}),i.jsx(s.td,{children:"Embedded in conversation flow"}),i.jsx(s.td,{children:"Default mode, small components"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"fullscreen"})})})})}),i.jsx(s.td,{children:"Full screen overlay"}),i.jsx(s.td,{children:"Complex interactions, immersive experiences"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"pip"})})})})}),i.jsx(s.td,{children:"Picture-in-picture"}),i.jsx(s.td,{children:"Continuous monitoring, video playback"})]})]})]}),`
`,i.jsx(s.h3,{children:"7.2 Mode Switching"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// View requests switch to fullscreen mode"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"await"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"requestDisplayMode"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"({ mode: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'fullscreen'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" });"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Listen for mode changes"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"onhostcontextchanged"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" context"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  if"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" (context.displayMode) {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    console."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"log"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'Display mode changed to:'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", context.displayMode);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"    // Adjust layout based on mode"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"};"})})]})})}),`
`,i.jsx(s.h3,{children:"7.3 Responsive Design Considerations"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Use containerSize to adapt to container"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"width"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"height"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" hostContext.containerSize "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"??"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {};"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Handle safe areas for notched screens"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"top"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"right"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"bottom"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"left"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" hostContext.safeAreaInsets "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"??"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {};"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Adjust touch interactions based on platform"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"if"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" (hostContext.platform "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"==="}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'mobile'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:") {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Increase tap targets, optimize gestures"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 8: Practical Development Guide"}),`
`,i.jsx(s.h3,{children:"8.1 Project Structure (Recommended)"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"my-mcp-app/"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â”œâ”€â”€ src/"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â”‚   â”œâ”€â”€ server/"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â”‚   â”‚   â””â”€â”€ index.ts        # MCP server"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â”‚   â””â”€â”€ view/"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â”‚       â”œâ”€â”€ index.html      # View entry"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â”‚       â”œâ”€â”€ app.tsx         # React component"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â”‚       â””â”€â”€ styles.css      # Styles"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â”œâ”€â”€ dist/                   # Build output"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â”œâ”€â”€ package.json"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â”œâ”€â”€ tsconfig.json"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"â””â”€â”€ vite.config.ts"})})]})})}),`
`,i.jsx(s.h3,{children:"8.2 Minimal Example - Server Side"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { McpServer } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" '@modelcontextprotocol/sdk/server/mcp.js'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  registerAppTool,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  registerAppResource,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  RESOURCE_MIME_TYPE,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"} "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" '@modelcontextprotocol/ext-apps/server'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { readFileSync } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'fs'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" server"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" new"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" McpServer"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"({"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  name: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'my-app'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  version: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'1.0.0'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"});"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" resourceUri"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'ui://my-app/dashboard.html'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Register tool with UI"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"registerAppTool"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  server,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"  'show-dashboard'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    title: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'Show Dashboard'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    description: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'Display interactive dashboard'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    inputSchema: {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'object'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      properties: {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        data: { type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'array'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", description: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'Data to display'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" },"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    _meta: {"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      ui: { resourceUri },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  },"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  async"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" args"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"    // Tool logic - returned data is sent to View via tool-result"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"    return"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      content: [{ type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'text'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", text: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'Dashboard ready'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" }],"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      structuredContent: { chartData: args.data },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    };"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Register UI resource"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"registerAppResource"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  server,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"  'dashboard'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  resourceUri,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  { mimeType: "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"RESOURCE_MIME_TYPE"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" },"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  async"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" () "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"    const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" html"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" readFileSync"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'./dist/dashboard.html'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'utf-8'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"    return"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      contents: [{ uri: resourceUri, text: html }],"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    };"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})})]})})}),`
`,i.jsx(s.h3,{children:"8.3 Minimal Example - View Side (Vanilla JS)"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"html","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"html","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<!"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"DOCTYPE"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" html"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"html"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  <"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"head"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    <"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"script"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" type"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"module"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"      import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { App, PostMessageTransport } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" '@modelcontextprotocol/ext-apps'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"      const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" app"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" new"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" App"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"({ name: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'my-view'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", version: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'1.0.0'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" });"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"      const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" transport"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" new"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" PostMessageTransport"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"();"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"      // Handle tool input (parameters when tool is called)"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"ontoolinput"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" input"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        console."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"log"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'Tool input:'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", input);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      };"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"      // Handle tool result (data after tool execution)"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"ontoolresult"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" result"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"        const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" data"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" result.structuredContent?.chartData;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        document."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"getElementById"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'result'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:").textContent "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" JSON"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"stringify"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(data, "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"null"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"2"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      };"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"      await"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"connect"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(transport);"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    </"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"script"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  </"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"head"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  <"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"body"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    <"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"div"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" id"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"result"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">Loading...</"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"div"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  </"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"body"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"</"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"html"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]})]})})}),`
`,i.jsx(s.h3,{children:"8.4 Minimal Example - View Side (React)"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"tsx","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { useApp, useHostStyleVariables } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" '@modelcontextprotocol/ext-apps/react'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"export"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" default"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" function"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" Dashboard"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"() "}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"{"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  const"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"app"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"toolInput"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"toolResult"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"hostContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" useApp"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"({"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    name: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'my-view'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    version: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'1.0.0'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  });"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Automatically apply host theme CSS variables"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  useHostStyleVariables"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(app, hostContext);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Proactively call server tools"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  const"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" handleRefresh"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" async"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" () "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"    const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" result"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" await"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" app?."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"callServerTool"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"({"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      name: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'get-data'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      arguments: { filter: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'recent'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" },"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    });"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    console."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"log"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'Fresh data:'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", result);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  };"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  return"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ("})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    <"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"div"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"      style"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"={"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"{"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        background: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'var(--color-background-primary)'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        color: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'var(--color-text-primary)'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      }"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"}"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    >"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      <"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"h1"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">Dashboard</"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"h1"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      <"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"button"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" onClick"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"={"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"handleRefresh"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"}"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">Refresh Data</"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"button"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      <"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"pre"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"{"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"JSON"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"stringify"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(toolResult?.structuredContent, "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"null"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"2"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"}"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"</"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"pre"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    </"}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:"div"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:">"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  );"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsx(s.h3,{children:"8.5 Build Configuration (Vite)"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// vite.config.ts"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { defineConfig } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'vite'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" react "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" '@vitejs/plugin-react'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { viteSingleFile } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'vite-plugin-singlefile'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"export"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" default"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" defineConfig"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"({"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  plugins: ["}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"react"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(), "}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"viteSingleFile"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"()]"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  build: {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    outDir: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'dist'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    rollupOptions: {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      input: process.env."}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"INPUT"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ||"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'src/view/index.html'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    },"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  }"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"})"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]})]})})}),`
`,i.jsxs(s.p,{children:["The ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"viteSingleFile"})})})})," plugin inlines all resources into a single HTML fileâ€”the recommended approach for MCP Apps to simplify distribution and avoid external dependencies."]}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 9: Advanced Patterns"}),`
`,i.jsx(s.h3,{children:"9.1 App-Only Tools"}),`
`,i.jsx(s.p,{children:'Create "internal tools" that only the UI can call:'}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"registerAppTool"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  server,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"  'internal-fetch'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    description: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'Internal data fetching (UI only)'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    inputSchema: {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'object'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      properties: {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        endpoint: { type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'string'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" },"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    _meta: {"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      ui: {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        resourceUri: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'ui://app/view.html'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        visibility: ["}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'app'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"], "}),i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Key: only visible to app, LLM cannot call"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  },"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  async"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" args"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"    const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" data"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" await"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" fetchInternal"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(args.endpoint);"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"    return"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { content: [{ type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'text'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", text: "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"JSON"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"stringify"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(data) }] };"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})})]})})}),`
`,i.jsx(s.h3,{children:"9.2 Chunked Loading for Large Data"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Server side - support pagination"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"registerAppTool"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  server,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"  'load-data'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  {"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    inputSchema: {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'object'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      properties: {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        offset: { type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'number'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", default: "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"0"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" },"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        limit: { type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'number'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", default: "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"100"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" },"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    },"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    _meta: { ui: { resourceUri, visibility: ["}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'app'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"] } },"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  },"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  async"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" args"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"    const"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"offset"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" 0"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"limit"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" 100"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" args;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"    const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" data"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" await"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" fetchData"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(offset, limit);"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"    return"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      content: [{ type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'text'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", text: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"`Loaded ${"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"data"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"length"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"} items`"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" }],"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      structuredContent: {"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        items: data,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        hasMore: data."}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"length"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ==="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" limit,"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        nextOffset: offset "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"+"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" data."}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"length"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    };"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// View side - incremental loading"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" loadMore"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" async"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" () "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" result"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" await"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"callServerTool"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"({"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    name: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'load-data'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    arguments: { offset: items."}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"length"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", limit: "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"100"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" },"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  });"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  const"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"items"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"newItems"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"hasMore"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" result.structuredContent;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  setItems"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"prev"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ["}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"..."}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"prev, "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"..."}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"newItems]);"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  setHasMore"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(hasMore);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"};"})})]})})}),`
`,i.jsx(s.h3,{children:"9.3 Updating Model Context"}),`
`,i.jsx(s.p,{children:"Let the LLM know what the user did in the UI:"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// User selected an option in the UI"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" handleSelection"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" async"}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" selectedItem"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Update model context so LLM knows about the selection"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  await"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"updateModelContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"({"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    content: ["})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        type: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'text'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        text: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"`User selected in dashboard: ${"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"selectedItem"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"name"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"} (ID: ${"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"selectedItem"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"id"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"})`"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    ],"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  });"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"};"})})]})})}),`
`,i.jsx(s.p,{children:'This way, when the user asks "help me analyze the one I just selected," the LLM will know what it is.'}),`
`,i.jsx(s.h3,{children:"9.4 Streaming Tool Input"}),`
`,i.jsx(s.p,{children:"When tool input data is large, the host can send it in chunks:"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// View side - handle partial input"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"ontoolinputpartial"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" partial"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Show loading progress"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  setLoadingText"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(partial.input?.partialText "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"||"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'Loading...'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"};"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"ontoolinput"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" input"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Complete input arrived"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  setLoadingText"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"null"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"  processInput"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(input);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"};"})})]})})}),`
`,i.jsx(s.h3,{children:"9.5 Theme Synchronization"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Automatically apply host theme"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"app."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"onhostcontextchanged"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" context"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Set data-theme attribute"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  document.documentElement.dataset.theme "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" context.theme;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Apply CSS variables"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  if"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" (context.styles) {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"    for"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ("}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ["}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"key"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"value"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"] "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"of"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" Object."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"entries"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(context.styles)) {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      document.documentElement.style."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"setProperty"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(key, value);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"};"})})]})})}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 10: Comparison with OpenAI Apps SDK"}),`
`,i.jsx(s.h3,{children:"10.1 Relationship"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"ext-apps (MCP Apps)"}),": MCP official specification + SDK, cross-platform standard"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"OpenAI Apps SDK"}),": ChatGPT-specific implementation, based on MCP Apps specification"]}),`
`]}),`
`,i.jsxs(s.p,{children:["They are ",i.jsx(s.strong,{children:"not competitors"}),", but rather a ",i.jsx(s.strong,{children:"specification-implementation"})," relationship. OpenAI Apps SDK is the official implementation of MCP Apps specification on the ChatGPT platform."]}),`
`,i.jsx(s.h3,{children:"10.2 Key Differences"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Aspect"}),i.jsx(s.th,{children:"ext-apps (MCP Apps)"}),i.jsx(s.th,{children:"OpenAI Apps SDK"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Positioning"})}),i.jsx(s.td,{children:"Protocol spec + generic SDK"}),i.jsx(s.td,{children:"ChatGPT-specific framework"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Metadata prefix"})}),i.jsx(s.td,{children:"No specific prefix"}),i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"openai/*"})})})})})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"State management"})}),i.jsx(s.td,{children:"Implemented by App"}),i.jsxs(s.td,{children:[i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"widgetSessionId"})})})})," + ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"widgetState"})})})})]})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Transport"})}),i.jsx(s.td,{children:"stdio, SSE, HTTP"}),i.jsx(s.td,{children:"Primarily SSE"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"UI library"})}),i.jsx(s.td,{children:"Any"}),i.jsx(s.td,{children:i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"@openai/apps-sdk-ui"})})})})})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Authentication"})}),i.jsx(s.td,{children:"Via MCP standard"}),i.jsx(s.td,{children:"OAuth RFC 9728"})]})]})]}),`
`,i.jsx(s.h3,{children:"10.3 Migration Guide"}),`
`,i.jsx(s.p,{children:"Migrating from OpenAI Apps SDK to MCP Apps:"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// OpenAI Apps SDK"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" meta"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"  'openai/outputTemplate'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'ui://widget/view.html'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"  'openai/widgetSessionId'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": sessionId,"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"  'openai/widgetState'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": { count: "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"0"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" },"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"};"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// MCP Apps (ext-apps)"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" meta"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  ui: { resourceUri: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'ui://widget/view.html'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" },"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"};"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// State management via updateModelContext or custom tools"})})]})})}),`
`,i.jsx(s.h3,{children:"10.4 OpenAI-Specific Features"}),`
`,i.jsx(s.p,{children:"OpenAI Apps SDK provides some ChatGPT-specific APIs:"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Call tools from Widget"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"window.openai."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"callTool"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"({ name: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"search"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", arguments: {"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"..."}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"} })"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Send follow-up message (trigger new LLM response)"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"window.openai."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"sendFollowUpMessage"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"Continue analysis..."'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:")"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Open modal"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"window.openai."}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"requestModal"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"({ "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"..."}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" })"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// widgetState auto-persisted to session"})})]})})}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 11: Client Support"}),`
`,i.jsx(s.h3,{children:"11.1 Supported Clients"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Client"}),i.jsx(s.th,{children:"Status"}),i.jsx(s.th,{children:"Notes"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Claude (Web & Desktop)"})}),i.jsx(s.td,{children:"âœ… Supported"}),i.jsx(s.td,{children:"First batch, full implementation"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"ChatGPT"})}),i.jsx(s.td,{children:"âœ… Supported"}),i.jsx(s.td,{children:"Launched release week 2026-01-26"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Goose"})}),i.jsx(s.td,{children:"âœ… Supported"}),i.jsx(s.td,{children:"Block open source project"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"VS Code Insiders"})}),i.jsx(s.td,{children:"âœ… Supported"}),i.jsx(s.td,{children:"GitHub Copilot integration"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Postman"})}),i.jsx(s.td,{children:"âœ… Supported"}),i.jsx(s.td,{children:"API testing tool"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"MCPJam"})}),i.jsx(s.td,{children:"âœ… Supported"}),i.jsx(s.td,{children:"Community client"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"JetBrains IDEs"})}),i.jsx(s.td,{children:"ðŸš§ In Development"}),i.jsx(s.td,{children:"Expressed support intent"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"AWS (Bedrock)"})}),i.jsx(s.td,{children:"ðŸš§ In Development"}),i.jsx(s.td,{children:"Expressed support intent"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Google DeepMind"})}),i.jsx(s.td,{children:"ðŸš§ In Development"}),i.jsx(s.td,{children:"Antigravity team exploring"})]})]})]}),`
`,i.jsx(s.h3,{children:"11.2 Configuration Example (Claude Desktop)"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"json","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"json","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"{"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'  "mcpServers"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'    "my-app"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'      "command"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"node"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'      "args"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": ["}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"path/to/server.js"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"]"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsx(s.h3,{children:"11.3 Configuration Example (VS Code)"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"json","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"json","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"{"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'  "mcpServers"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'    "my-app"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'      "command"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"npx"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'      "args"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": ["}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"-y"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"@modelcontextprotocol/server-my-app"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"--stdio"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"]"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 12: Example Projects Overview"}),`
`,i.jsx(s.h3,{children:"12.1 Official ext-apps Examples"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Category"}),i.jsx(s.th,{children:"Example"}),i.jsx(s.th,{children:"Tech Stack"}),i.jsx(s.th,{children:"Demo Feature"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Basic Templates"})}),i.jsx(s.td,{children:"basic-server-react"}),i.jsx(s.td,{children:"React"}),i.jsx(s.td,{children:"Basic Hooks usage"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"basic-server-vue"}),i.jsx(s.td,{children:"Vue 3"}),i.jsx(s.td,{children:"Composition API"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"basic-server-svelte"}),i.jsx(s.td,{children:"Svelte"}),i.jsx(s.td,{children:"Reactive programming"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"basic-server-vanillajs"}),i.jsx(s.td,{children:"Vanilla JS"}),i.jsx(s.td,{children:"No-framework implementation"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"3D/Visualization"})}),i.jsx(s.td,{children:"map-server"}),i.jsx(s.td,{children:"CesiumJS"}),i.jsx(s.td,{children:"3D globe"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"threejs-server"}),i.jsx(s.td,{children:"Three.js"}),i.jsx(s.td,{children:"3D scenes"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"shadertoy-server"}),i.jsx(s.td,{children:"GLSL"}),i.jsx(s.td,{children:"Real-time shaders"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Documents/Media"})}),i.jsx(s.td,{children:"pdf-server"}),i.jsx(s.td,{children:"PDF.js"}),i.jsx(s.td,{children:"PDF chunked loading"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"video-resource-server"}),i.jsx(s.td,{children:"-"}),i.jsx(s.td,{children:"Binary video"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"sheet-music-server"}),i.jsx(s.td,{children:"abc2svg"}),i.jsx(s.td,{children:"Sheet music rendering"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Data Analysis"})}),i.jsx(s.td,{children:"cohort-heatmap-server"}),i.jsx(s.td,{children:"ECharts"}),i.jsx(s.td,{children:"Retention heatmap"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"customer-segmentation-server"}),i.jsx(s.td,{children:"-"}),i.jsx(s.td,{children:"Clustering scatter plot"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"wiki-explorer-server"}),i.jsx(s.td,{children:"Cytoscape"}),i.jsx(s.td,{children:"Knowledge graph"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Business Apps"})}),i.jsx(s.td,{children:"scenario-modeler-server"}),i.jsx(s.td,{children:"-"}),i.jsx(s.td,{children:"SaaS financial projections"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"budget-allocator-server"}),i.jsx(s.td,{children:"-"}),i.jsx(s.td,{children:"Budget allocation"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Utilities"})}),i.jsx(s.td,{children:"system-monitor-server"}),i.jsx(s.td,{children:"-"}),i.jsx(s.td,{children:"Real-time system monitoring"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"transcript-server"}),i.jsx(s.td,{children:"WebAPI"}),i.jsx(s.td,{children:"Speech transcription"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{}),i.jsx(s.td,{children:"qr-server (Python)"}),i.jsx(s.td,{children:"-"}),i.jsx(s.td,{children:"QR code generation"})]})]})]}),`
`,i.jsx(s.h3,{children:"12.2 Running Examples"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"bash","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"bash","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"# Clone repository"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"git"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" clone"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" https://github.com/modelcontextprotocol/ext-apps.git"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"cd"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" ext-apps"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"# Install dependencies"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"npm"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" install"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"# Start all examples (using basic-host)"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"npm"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" start"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"# Visit http://localhost:8080/"})})]})})}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 13: Testing and Debugging"}),`
`,i.jsx(s.h3,{children:"13.1 Local Testing"}),`
`,i.jsxs(s.p,{children:["Test your MCP App using ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"basic-host"})})})}),":"]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"bash","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"bash","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"# Start basic-host"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"cd"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" ext-apps/examples/basic-host"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"npm"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" install"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" && "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"npm"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" start"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"# In another terminal, start your server"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"cd"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" your-app"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" && "}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"npm"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" run"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" serve"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"# Configure basic-host to connect to your server"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"SERVERS"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:`'["http://localhost:3001"]'`}),i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:" npm"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" start"})]})]})})}),`
`,i.jsx(s.h3,{children:"13.2 Testing with Claude"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"bash","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"bash","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"# Expose local server using cloudflared"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FFA657","--shiki-light":"#953800"},children:"npx"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" cloudflared"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" tunnel"}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:" --url"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" http://localhost:3001"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"# Copy the generated URL (e.g., https://xxx.trycloudflare.com)"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"# Add it as a Custom Connector in Claude settings"})})]})})}),`
`,i.jsx(s.h3,{children:"13.3 Common Troubleshooting"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Issue"}),i.jsx(s.th,{children:"Possible Cause"}),i.jsx(s.th,{children:"Solution"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"External requests blocked"}),i.jsx(s.td,{children:"CSP domain not declared"}),i.jsxs(s.td,{children:["Add domain to ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"_meta.ui.csp.connectDomains"})})})})]})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"postMessage fails"}),i.jsx(s.td,{children:"Sandbox misconfiguration"}),i.jsxs(s.td,{children:["Ensure ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"allow-same-origin"})})})})," is present"]})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Theme not syncing"}),i.jsx(s.td,{children:"Not listening for context changes"}),i.jsxs(s.td,{children:["Implement ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"onhostcontextchanged"})})})})," handler"]})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Tool call timeout"}),i.jsx(s.td,{children:"Server responding slowly"}),i.jsx(s.td,{children:"Check server logs, optimize processing logic"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"UI not displaying"}),i.jsx(s.td,{children:"Resource load failure"}),i.jsx(s.td,{children:"Verify resourceUri is correct"})]})]})]}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 14: Best Practices"}),`
`,i.jsx(s.h3,{children:"14.1 Do's âœ…"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Use CSS variables for theme adaptation"}),": Ensure good presentation in both light and dark themes"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Respond to displayMode changes"}),": Adjust layout for inline/fullscreen/pip"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Provide text fallback"}),": Support clients that don't support MCP Apps"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Use TypeScript"}),": Ensure type safety, reduce runtime errors"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Chunk load large datasets"}),": Avoid transferring too much data at once"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Explicitly declare required CSP domains"}),": Principle of least privilege"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Implement teardown cleanup"}),": Release resources, unsubscribe"]}),`
`]}),`
`,i.jsx(s.h3,{children:"14.2 Don'ts âŒ"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Store sensitive data in View"}),": iframe may be accessible by other scripts"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Assume fixed container dimensions"}),": Use responsive design"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Ignore teardown events"}),": May cause memory leaks"]}),`
`,i.jsxs(s.li,{children:[i.jsxs(s.strong,{children:["Use ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"*"})})})})," wildcard CSP domains"]}),": Security risk"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Block main thread"}),": Use Web Workers for time-consuming operations"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Rely on undeclared external CDNs"}),": Will be blocked by CSP"]}),`
`]}),`
`,i.jsx(s.h3,{children:"14.3 Performance Optimization"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// 1. Use viteSingleFile to inline all resources"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" { viteSingleFile } "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:" 'vite-plugin-singlefile'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// 2. Enable gzip compression"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Set Content-Encoding: gzip when server returns"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// 3. Lazy load heavy libraries"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:" loadThreeJs"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" () "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:" import"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'three'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// 4. Use requestIdleCallback for non-critical tasks"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"requestIdleCallback"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"(() "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"  // Preloading, analytics, and other non-critical operations"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"});"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// 5. Use virtual scrolling for long lists"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Recommended: react-window, vue-virtual-scroller"})})]})})}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 15: Impact and Transformation of MCP Apps"}),`
`,i.jsx(s.h3,{children:"15.1 Impact on AI Ecosystem"}),`
`,i.jsx(s.h4,{children:'Breaking the "Text-Only Response" Paradigm'}),`
`,i.jsx(s.p,{children:`Traditional AI Agents can only return text. Even with "code execution" capabilities, what's ultimately presented to users is still text or static images.`}),`
`,i.jsx(s.p,{children:"MCP Apps change this:"}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"Before MCP App:"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:'User: "Help me generate a pie chart of sales data"'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:`Agent: "Sure, here's the data: {...}, you can copy it to Excel to generate the chart"`})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"After MCP App:"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:'User: "Help me generate a pie chart of sales data"'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"Agent: [Directly renders interactive ECharts pie chart, supports hover for details, export images]"})})]})})}),`
`,i.jsx(s.h4,{children:"Promoting Agent Ecosystem Standardization"}),`
`,i.jsxs(s.p,{children:["MCP Apps is the ",i.jsx(s.strong,{children:"first cross-company, cross-platform"})," AI Agent UI standard:"]}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsx(s.li,{children:"Joint participation from Anthropic, OpenAI, Block, Microsoft"}),`
`,i.jsx(s.li,{children:"Same MCP App can run in Claude, ChatGPT, VS Code"}),`
`,i.jsx(s.li,{children:"Developers only need to write code once"}),`
`]}),`
`,i.jsx(s.p,{children:'This avoids ecosystem fragmentationâ€”no "Claude-only plugins" or "ChatGPT-only Widgets."'}),`
`,i.jsx(s.h4,{children:"Accelerating Enterprise AI Applications"}),`
`,i.jsxs(s.p,{children:["According to Forrester 2026 predictions, ",i.jsx(s.strong,{children:"30% of enterprise application vendors"})," will launch their own MCP servers."]}),`
`,i.jsx(s.p,{children:"MCP Apps enable enterprises to:"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsx(s.li,{children:"Encapsulate internal systems as MCP Apps, exposing capabilities to AI Agents"}),`
`,i.jsx(s.li,{children:"Avoid vendor lock-in, flexibly choose AI platforms"}),`
`,i.jsx(s.li,{children:"Standardize AI integration for internal tools"}),`
`]}),`
`,i.jsx(s.h3,{children:"15.2 Impact on Developers"}),`
`,i.jsx(s.h4,{children:"New Skill Requirements"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Traditional MCP Development"}),i.jsx(s.th,{children:"MCP App Development"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Backend-focused"}),i.jsx(s.td,{children:"Full-stack required"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"JSON data processing"}),i.jsx(s.td,{children:"UI/UX design"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"No sandbox considerations"}),i.jsx(s.td,{children:"Must understand CSP, iframe security"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Single platform adaptation"}),i.jsx(s.td,{children:"Cross-platform theming/responsive"})]})]})]}),`
`,i.jsx(s.h4,{children:"Lower Distribution Barriers"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"No separate deployment"}),": UI embedded as resource in MCP Server"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"No app store review"}),": Configure MCP server to use"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Instant updates"}),": Code changes take effect immediately, no user upgrade needed"]}),`
`]}),`
`,i.jsx(s.h3,{children:"15.3 Transformation of Product Interactions"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Scenario"}),i.jsx(s.th,{children:"Traditional Experience"}),i.jsx(s.th,{children:"MCP App Experience"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Data visualization"}),i.jsx(s.td,{children:"Return data for user to chart"}),i.jsx(s.td,{children:"Render interactive charts directly"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Form filling"}),i.jsx(s.td,{children:"Multi-turn conversation asking fields one by one"}),i.jsx(s.td,{children:"One-time form input"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"File preview"}),i.jsx(s.td,{children:"Return download link"}),i.jsx(s.td,{children:"Embed PDF/3D viewer"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Configuration wizard"}),i.jsx(s.td,{children:"Step-by-step text guidance"}),i.jsx(s.td,{children:"Visual step indicators"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Map navigation"}),i.jsx(s.td,{children:"Return address text"}),i.jsx(s.td,{children:"Embed interactive map"})]})]})]}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 16: Comparison with Google A2UI"}),`
`,i.jsx(s.h3,{children:"16.1 A2UI Introduction"}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"A2UI (Agent-to-User Interface)"})," is another Agent UI protocol released by Google in December 2025."]}),`
`,i.jsxs(s.p,{children:["Core philosophy: ",i.jsx(s.strong,{children:"Declarative component description"}),", not executable code."]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"Agent outputs A2UI JSON description"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"        â†“"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"Client reads component description"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"        â†“"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"Maps to native local components"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"        â†“"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"User sees native-style UI"})})]})})}),`
`,i.jsx(s.h3,{children:"16.2 Core Differences"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Dimension"}),i.jsx(s.th,{children:"MCP Apps"}),i.jsx(s.th,{children:"Google A2UI"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Core Philosophy"})}),i.jsx(s.td,{children:"Embedded web applications"}),i.jsx(s.td,{children:"Declarative component descriptions"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"UI Implementation"})}),i.jsx(s.td,{children:"Full HTML/CSS/JS (iframe)"}),i.jsx(s.td,{children:"JSON component declarations (native rendering)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Flexibility"})}),i.jsx(s.td,{children:"High (can use any frontend tech)"}),i.jsx(s.td,{children:"Limited (only predefined components)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Security Model"})}),i.jsx(s.td,{children:"iframe sandbox + CSP"}),i.jsx(s.td,{children:"Component whitelist directory"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Development Barrier"})}),i.jsx(s.td,{children:"Requires frontend experience"}),i.jsx(s.td,{children:"LLM can generate directly"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:i.jsx(s.strong,{children:"Rendering Consistency"})}),i.jsx(s.td,{children:"Consistent across platforms"}),i.jsx(s.td,{children:"Depends on each platform's native implementation"})]})]})]}),`
`,i.jsx(s.h3,{children:"16.3 Technical Approach Comparison"}),`
`,i.jsx(s.p,{children:i.jsx(s.strong,{children:'MCP Apps: "Mini Web App" Approach'})}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"typescript","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"typescript","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#8B949E","--shiki-light":"#6E7781"},children:"// Return complete HTML"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#D2A8FF","--shiki-light":"#8250DF"},children:"registerAppResource"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"("})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  server,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"  'chart'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"  'ui://app/chart.html'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    mimeType: "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"RESOURCE_MIME_TYPE"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  },"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"  async"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" () "}),i.jsx(s.span,{style:{"--shiki-dark":"#FF7B72","--shiki-light":"#CF222E"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" ({"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    contents: ["})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        uri: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"'ui://app/chart.html'"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"        text: "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"`"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"      <html>"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'        <script src="echarts.min.js"><\/script>'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"        <script>echarts.init(...)<\/script>"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'        <div id="chart"></div>'})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"      </html>"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:"    `"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      },"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    ],"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  })"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:");"})})]})})}),`
`,i.jsx(s.p,{children:i.jsx(s.strong,{children:'A2UI: "Native-First Declarative" Approach'})}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"json","data-theme":"github-dark-default github-light-default",children:i.jsxs(s.code,{"data-language":"json","data-theme":"github-dark-default github-light-default",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"{"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'  "components"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": ["})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'      "id"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"chart1"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'      "type"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"PieChart"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'      "props"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'        "data"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": [{ "}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'"label"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"A"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:", "}),i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'"value"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#79C0FF","--shiki-light":"#0550AE"},children:"30"}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:" }],"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#7EE787","--shiki-light":"#116329"},children:'        "title"'}),i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#A5D6FF","--shiki-light":"#0A3069"},children:'"Sales"'})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"      }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"    }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"  ]"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#E6EDF3","--shiki-light":"#1F2328"},children:"}"})})]})})}),`
`,i.jsx(s.h3,{children:"16.4 How to Choose"}),`
`,i.jsxs(s.table,{children:[i.jsx(s.thead,{children:i.jsxs(s.tr,{children:[i.jsx(s.th,{children:"Scenario"}),i.jsx(s.th,{children:"Recommended Approach"})]})}),i.jsxs(s.tbody,{children:[i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Simple forms, lists, cards"}),i.jsx(s.td,{children:"A2UI (lighter weight)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Complex data visualization (ECharts, D3)"}),i.jsx(s.td,{children:"MCP Apps (more flexible)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"3D/maps/rich media"}),i.jsx(s.td,{children:"MCP Apps (required)"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Want native system experience"}),i.jsx(s.td,{children:"A2UI"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Need complex interaction logic"}),i.jsx(s.td,{children:"MCP Apps"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"LLM directly generating UI"}),i.jsx(s.td,{children:"A2UI"})]}),i.jsxs(s.tr,{children:[i.jsx(s.td,{children:"Reusing existing web components"}),i.jsx(s.td,{children:"MCP Apps"})]})]})]}),`
`,i.jsx(s.h3,{children:"16.5 Possible Convergence Directions"}),`
`,i.jsx(s.p,{children:"The two aren't mutually exclusiveâ€”future possibilities include:"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsx(s.li,{children:"MCP Apps internally using A2UI descriptions for dynamically generated UI fragments"}),`
`,i.jsx(s.li,{children:"A2UI component directory expanding to support embedded MCP Apps"}),`
`,i.jsx(s.li,{children:'Unified "Agent UI Protocol" integrating both approaches'}),`
`]}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Part 17: Future Development Directions"}),`
`,i.jsx(s.h3,{children:"17.1 Protocol Level"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"More display modes"}),": Beyond inline/fullscreen/pip, possibly modal, sidebar, etc."]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Enhanced permission control"}),": Finer-grained device access, network request control"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"A2UI convergence"}),": Hybrid use of declarative components and embedded Apps"]}),`
`]}),`
`,i.jsx(s.h3,{children:"17.2 Ecosystem Expansion"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"More client support"}),": JetBrains, AWS Bedrock, Google, etc."]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Component template library"}),": Ready-to-use templates for common UI patterns"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Visual building tools"}),": Low-code/no-code MCP App builders"]}),`
`]}),`
`,i.jsx(s.h3,{children:"17.3 Technical Capability Enhancements"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Multi-App coordination"}),": State sharing and message passing between Apps"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Offline and persistence"}),": Service Worker caching, cross-session state preservation"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"More device permissions"}),": Bluetooth, NFC, sensors, etc."]}),`
`]}),`
`,i.jsx(s.h3,{children:"17.4 Vertical Domain Deepening"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Healthcare"}),": DICOM medical image viewers"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Financial Services"}),": Real-time market charts, risk dashboards"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Engineering Design"}),": CAD previewer, BIM model viewing"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Education & Training"}),": Interactive courseware, programming exercise environments"]}),`
`]}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"Conclusion"}),`
`,i.jsxs(s.p,{children:["MCP Apps is a ",i.jsx(s.strong,{children:"historic extension"}),' to the MCP protocol, marking the elevation of the AI Agent ecosystem from "tool calling" to "application platform."']}),`
`,i.jsxs(s.p,{children:[i.jsx(s.strong,{children:"Key Takeaways"}),":"]}),`
`,i.jsxs(s.ol,{children:[`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"MCP App = Tool + UI Resource"}),", linked via ",i.jsx(s.span,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.code,{"data-language":"plaintext","data-theme":"github-dark-default github-light-default",children:i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"_meta.ui.resourceUri"})})})})]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Three-layer architecture"}),": Server â†’ Host â†’ View, communicating via JSON-RPC"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Multi-layer security"}),": iframe sandbox + CSP + permission declarations + user consent"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Cross-platform support"}),": Claude, ChatGPT, VS Code, Goose, and more"]}),`
`,i.jsxs(s.li,{children:[i.jsx(s.strong,{children:"Ecosystem significance"}),": Breaking text-only paradigm, promoting Agent UI standardization"]}),`
`]}),`
`,i.jsxs(s.p,{children:["If you're developing MCP servers, it's time to consider adding interactive UI to your tools. MCP Apps make AI Agents truly become a ",i.jsx(s.strong,{children:"visual application platform"}),", not just a chat box."]}),`
`,i.jsx(s.hr,{}),`
`,i.jsx(s.h2,{children:"References"}),`
`,i.jsx(s.h3,{children:"Official Resources"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://github.com/modelcontextprotocol/ext-apps",children:"ext-apps Official Repository"})}),`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://modelcontextprotocol.io/docs/extensions/apps",children:"MCP Apps Official Documentation"})}),`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://modelcontextprotocol.github.io/ext-apps/api/",children:"API Documentation"})}),`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx",children:"Specification (2026-01-26)"})}),`
`]}),`
`,i.jsx(s.h3,{children:"Blog Posts"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://blog.modelcontextprotocol.io/posts/2026-01-26-mcp-apps/",children:"MCP Apps 1.0 Release Announcement (2026-01-26)"})}),`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://blog.modelcontextprotocol.io/posts/2025-11-21-mcp-apps/",children:"MCP Apps Preview Announcement (2025-11-21)"})}),`
`]}),`
`,i.jsx(s.h3,{children:"Related Projects"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://github.com/MCP-UI-Org/mcp-ui",children:"MCP-UI Community Project"})}),`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://developers.openai.com/apps-sdk/",children:"OpenAI Apps SDK"})}),`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://a2ui.org/",children:"Google A2UI"})}),`
`]}),`
`,i.jsx(s.h3,{children:"Community Discussions"}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://github.com/modelcontextprotocol/modelcontextprotocol/pull/1865",children:"SEP-1865 PR"})}),`
`,i.jsx(s.li,{children:i.jsx(s.a,{href:"https://github.com/modelcontextprotocol-community/working-groups/issues/35",children:"Working Group Issue #35"})}),`
`]})]})}function a(e={}){const{wrapper:s}=e.components||{};return s?i.jsx(s,{...e,children:i.jsx(h,{...e})}):h(e)}export{a as default,l as frontmatter};
